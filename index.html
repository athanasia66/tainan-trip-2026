<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°å—æ¼«æ´»ãƒ»å¤éƒ½äºŒæ—¥éŠ | 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #FAFAF9; color: #44403C; }
        .chart-container { position: relative; width: 100%; max-width: 500px; margin: 0 auto; height: 300px; max-height: 400px; }
        .timeline-line { position: absolute; left: 1.25rem; top: 0; bottom: 0; width: 2px; background-color: #E7E5E4; z-index: 0; }
        .active-tab { border-bottom: 3px solid #9A3412; color: #9A3412; font-weight: 700; }
        .inactive-tab { color: #78716C; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
    </style>
    <!-- Chosen Palette: Old Tainan Bricks (Warm Neutrals & Brick Red) -->
    <!-- Application Structure Plan: Mobile-first SPA with a sticky top navigation. 
         1. Dashboard: High-level summary & visual budget breakdown using Chart.js.
         2. Itinerary: The core feature, a vertical timeline toggling between Day 1/2.
         3. Food: A filterable card grid (Seafood/Cafe/Snacks).
         4. Ten Drum: Dedicated section for Day 2 strategy.
         5. Logistics: Transport & Accommodation details. 
         Rationale: Users on the go need quick access to "Where next?" (Itinerary) and "How to get there?" (Maps links). -->
    <!-- Visualization & Content Choices: 
         - Budget Chart (Pie): To manage expectations for shared costs.
         - Activity Balance (Bar): To visualize the "Slow Living" vs "Active" pace.
         - Timeline: Vertical layout best for mobile chronological flow. 
         - Google Maps Links: Direct integration for usability.
         - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased pb-20">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-[#FAFAF9]/95 backdrop-blur shadow-sm border-b border-stone-200">
        <div class="max-w-4xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="font-bold text-xl text-orange-900 tracking-wider">TAINAN 2026</div>
                <div class="hidden md:flex space-x-6 text-sm font-medium">
                    <button onclick="switchView('overview')" class="hover:text-orange-700 transition">ç¸½è¦½</button>
                    <button onclick="switchView('itinerary')" class="hover:text-orange-700 transition">æ¯æ—¥è¡Œç¨‹</button>
                    <button onclick="switchView('food')" class="hover:text-orange-700 transition">ç¾é£Ÿåœ°åœ–</button>
                    <button onclick="switchView('tendrum')" class="hover:text-orange-700 transition">åé¼“æ”»ç•¥</button>
                    <button onclick="switchView('logistics')" class="hover:text-orange-700 transition">äº¤é€šä½å®¿</button>
                </div>
                <button onclick="toggleMobileMenu()" class="md:hidden text-2xl text-stone-600">â˜°</button>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-stone-100 absolute w-full shadow-lg">
            <div class="flex flex-col p-4 space-y-3 font-medium text-stone-600">
                <button onclick="switchView('overview')" class="text-left py-2 border-b border-stone-50">è¡Œç¨‹ç¸½è¦½</button>
                <button onclick="switchView('itinerary')" class="text-left py-2 border-b border-stone-50">æ¯æ—¥è¡Œç¨‹</button>
                <button onclick="switchView('food')" class="text-left py-2 border-b border-stone-50">ç¾é£Ÿåœ°åœ–</button>
                <button onclick="switchView('tendrum')" class="text-left py-2 border-b border-stone-50">åé¼“æ”»ç•¥</button>
                <button onclick="switchView('logistics')" class="text-left py-2">äº¤é€šä½å®¿</button>
            </div>
        </div>
    </nav>

    <!-- Content Container -->
    <main id="app-content" class="max-w-3xl mx-auto px-4 pt-6 space-y-8">
        
        <!-- SECTION: OVERVIEW -->
        <section id="overview" class="view-section animate-fade-in">
            <div class="text-center mb-8">
                <span class="inline-block px-3 py-1 bg-orange-100 text-orange-800 text-xs font-bold rounded-full mb-2">æ…¢æ´»ä¹‹æ—…</span>
                <h1 class="text-3xl font-bold text-stone-800 mb-2">å°å—å¤éƒ½ãƒ»æ…¢æ´»äºŒæ—¥éŠ</h1>
                <p class="text-stone-500">2026.02.27 (äº”) â€” 02.28 (å…­) | 6 äººæˆè¡Œ</p>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8">
                <h2 class="text-lg font-bold text-stone-700 mb-4 border-l-4 border-orange-800 pl-3">è¡Œç¨‹äº®é»åˆ†æ</h2>
                <p class="text-sm text-stone-600 mb-6 leading-relaxed">
                    æœ¬å€å¡Šæ—¨åœ¨è®“å¤§å®¶å°é€™å…©å¤©çš„ã€Œæ´»å‹•å¼·åº¦ã€èˆ‡ã€Œé ç®—åˆ†é…ã€æœ‰åˆæ­¥æ¦‚å¿µã€‚æˆ‘å€‘å°‡é‡é»æ”¾åœ¨ç¬¬ä¸€å¤©çš„å¤åŸå€æ–‡åŒ–æ¢ç´¢èˆ‡ç¬¬äºŒå¤©çš„åé¼“å‹•æ…‹é«”é©—ï¼Œè¡Œç¨‹å®‰æ’é ç•™äº†å¤§é‡ç·©è¡æ™‚é–“ï¼Œç¬¦åˆæ…¢æ´»é¢¨æ ¼ã€‚
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Chart 1: Budget Est -->
                    <div class="flex flex-col items-center">
                        <h3 class="text-sm font-semibold text-stone-500 mb-2">é ä¼°é ç®—çµæ§‹ (æ¯äºº)</h3>
                        <div class="chart-container">
                            <canvas id="budgetChart"></canvas>
                        </div>
                        <p class="text-xs text-stone-400 mt-2">*ä¸å«å€‹äººä¼´æ‰‹ç¦®èˆ‡é¡å¤–é…’æ°´</p>
                    </div>
                    <!-- Chart 2: Pace Analysis -->
                    <div class="flex flex-col items-center">
                        <h3 class="text-sm font-semibold text-stone-500 mb-2">æ…¢æ´» vs æ´»å‹•å¼·åº¦</h3>
                        <div class="chart-container">
                            <canvas id="paceChart"></canvas>
                        </div>
                        <p class="text-xs text-stone-400 mt-2">*Day 2 ä¸‹åˆéœ€ä¿ç•™é«”åŠ›</p>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="bg-orange-50 p-4 rounded-xl border border-orange-100 text-center">
                    <div class="text-2xl mb-1">ğŸŒ¤ï¸</div>
                    <div class="text-sm font-bold text-stone-700">å¤©æ°£é å ±</div>
                    <div class="text-xs text-stone-500">æ—©æ™šæº«å·®å¤§ (18-25Â°C)</div>
                </div>
                <div class="bg-stone-100 p-4 rounded-xl border border-stone-200 text-center">
                    <div class="text-2xl mb-1">ğŸ›µ</div>
                    <div class="text-sm font-bold text-stone-700">äº¤é€šæ–¹å¼</div>
                    <div class="text-xs text-stone-500">D1 æ©Ÿè»Š / D2 è¨ˆç¨‹è»Š</div>
                </div>
            </div>
        </section>

        <!-- SECTION: ITINERARY -->
        <section id="itinerary" class="view-section hidden">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-stone-800 mb-2">æ¯æ—¥è¡Œç¨‹è¦åŠƒ</h2>
                <p class="text-sm text-stone-500">é»æ“Šå¡ç‰‡å¯æŸ¥çœ‹åœ°åœ–å°èˆªèˆ‡è©³ç´°è³‡è¨Šã€‚</p>
            </div>

            <!-- Tabs -->
            <div class="flex border-b border-stone-200 mb-6 sticky top-16 bg-[#FAFAF9] z-40 pt-2">
                <button onclick="setDay(1)" id="tab-day1" class="w-1/2 pb-3 text-center transition-all active-tab">
                    Day 1 <span class="text-xs block font-normal text-stone-500">02/27 å¤åŸæ¢ç´¢</span>
                </button>
                <button onclick="setDay(2)" id="tab-day2" class="w-1/2 pb-3 text-center transition-all inactive-tab">
                    Day 2 <span class="text-xs block font-normal text-stone-500">02/28 åé¼“æ–‡å‰µ</span>
                </button>
            </div>

            <!-- Timeline Container -->
            <div id="timeline-container" class="relative pl-2 pb-12">
                <!-- Line -->
                <div class="timeline-line"></div>
                <!-- Content injected via JS -->
            </div>
        </section>

        <!-- SECTION: FOOD MAP -->
        <section id="food" class="view-section hidden">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-stone-800 mb-2">åºœåŸç¾é£Ÿåœ°åœ–</h2>
                <p class="text-sm text-stone-600 mb-4">ç²¾é¸ä½å®¿å‘¨é‚Šèˆ‡ç¥è¾²è¡—å¿…åƒç¾é£Ÿã€‚è«‹æ ¹æ“šç•¶ä¸‹é£¢é¤“ç¨‹åº¦èˆ‡æ’éšŠç‹€æ³é¸æ“‡ã€‚</p>
                
                <!-- Filters -->
                <div class="flex flex-wrap gap-2">
                    <button onclick="filterFood('all')" class="food-filter px-4 py-2 rounded-full text-sm bg-stone-800 text-white shadow-sm transition">å…¨éƒ¨</button>
                    <button onclick="filterFood('lunch')" class="food-filter px-4 py-2 rounded-full text-sm bg-white text-stone-600 border border-stone-200 hover:bg-stone-100 transition">åˆé¤/ä¸»é£Ÿ</button>
                    <button onclick="filterFood('cafe')" class="food-filter px-4 py-2 rounded-full text-sm bg-white text-stone-600 border border-stone-200 hover:bg-stone-100 transition">è€å±‹å’–å•¡</button>
                    <button onclick="filterFood('dinner')" class="food-filter px-4 py-2 rounded-full text-sm bg-white text-stone-600 border border-stone-200 hover:bg-stone-100 transition">æ™šé¤/å®µå¤œ</button>
                </div>
            </div>

            <div id="food-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Food cards injected via JS -->
            </div>
        </section>

        <!-- SECTION: TEN DRUM -->
        <section id="tendrum" class="view-section hidden">
            <div class="bg-white rounded-2xl shadow-sm border border-stone-100 overflow-hidden">
                <div class="bg-stone-800 text-white p-6">
                    <h2 class="text-2xl font-bold mb-1">åé¼“ä»ç³–æ–‡å‰µåœ’å€</h2>
                    <p class="text-stone-300 text-sm">Day 2 é‡é»è¡Œç¨‹ | é­”æ³•å·¥å» èˆ‡æ¥µé™é«”é©—</p>
                </div>
                
                <div class="p-6 space-y-8">
                    <!-- Intro -->
                    <div>
                        <p class="text-stone-600 leading-relaxed mb-4">
                            åé¼“æ–‡å‰µåœ’å€ä½”åœ°å»£å¤§ï¼Œå»ºè­°æˆ‘å€‘æ¡å–ã€Œå…ˆå‹•å¾Œéœã€çš„ç­–ç•¥ã€‚é€€æˆ¿å¾Œç›´æ¥æ­è¨ˆç¨‹è»Šå‰å¾€ï¼Œé è¨ˆç”±ä¸­åˆç©åˆ°ä¸‹åˆä¸‰é»åŠã€‚
                        </p>
                        <a href="https://www.google.com/maps/search/?api=1&query=åé¼“ä»ç³–æ–‡å‰µåœ’å€" target="_blank" class="inline-flex items-center text-orange-700 font-bold hover:underline">
                            ğŸ“ é–‹å•Ÿ Google Maps å°èˆª
                        </a>
                    </div>

                    <!-- Strategy -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="border border-stone-200 rounded-xl p-4">
                            <h3 class="font-bold text-stone-800 mb-3 flex items-center">
                                <span class="bg-orange-100 text-orange-800 rounded px-2 py-0.5 text-xs mr-2">å¿…çœ‹</span>
                                å¤¢ç³–åŠ‡å ´ (é¼“æ¨‚è¡¨æ¼”)
                            </h3>
                            <p class="text-sm text-stone-600 mb-2">éœ‡æ’¼çš„é¼“æ“Šæ¼”å‡ºï¼Œéœ€é…åˆå ´æ¬¡æ™‚é–“ã€‚</p>
                            <ul class="text-sm text-stone-500 list-disc list-inside bg-stone-50 p-3 rounded">
                                <li>ä¸Šåˆå ´ï¼š11:00 (é€šå¸¸)</li>
                                <li>ä¸‹åˆå ´ï¼š15:00 (å»ºè­°è§€è³æ­¤å ´å‰é›¢é–‹æˆ–çœ‹å®Œå†èµ°)</li>
                            </ul>
                        </div>
                        <div class="border border-stone-200 rounded-xl p-4">
                            <h3 class="font-bold text-stone-800 mb-3 flex items-center">
                                <span class="bg-teal-100 text-teal-800 rounded px-2 py-0.5 text-xs mr-2">å¿…ç©</span>
                                æ¥µé™è¨­æ–½
                            </h3>
                            <p class="text-sm text-stone-600 mb-2">é©åˆå–œæ­¡åˆºæ¿€çš„äººã€‚</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="text-xs bg-stone-100 px-2 py-1 rounded">å¤©å ‚ä¸Šçš„é¦éŸ†</span>
                                <span class="text-xs bg-stone-100 px-2 py-1 rounded">ç…™å›ªæ»‘æ¢¯</span>
                                <span class="text-xs bg-stone-100 px-2 py-1 rounded">é£›å¤©å®…æ€¥ä¾¿</span>
                            </div>
                        </div>
                    </div>

                    <!-- Photo Spots -->
                    <div>
                        <h3 class="font-bold text-stone-800 mb-3">ğŸ“¸ æ‹ç…§æ‰“å¡é»</h3>
                        <div class="space-y-3">
                            <div class="flex items-start">
                                <span class="text-xl mr-3">ğŸ§™</span>
                                <div>
                                    <h4 class="font-medium text-stone-800">é­”æ³•å·¥å» </h4>
                                    <p class="text-xs text-stone-500">å®›å¦‚å“ˆåˆ©æ³¢ç‰¹å ´æ™¯çš„æ›¸ç‰†èˆ‡é£›å¤©æ›¸ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <span class="text-xl mr-3">ğŸŒŒ</span>
                                <div>
                                    <h4 class="font-medium text-stone-800">å¤©ç©ºæ­¥é“</h4>
                                    <p class="text-xs text-stone-500">ç©¿æ¢­åœ¨è€ç³–å» æ¨¹å† å±¤ä¹‹é–“çš„é€æ˜æ­¥é“ã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: LOGISTICS -->
        <section id="logistics" class="view-section hidden">
            <h2 class="text-2xl font-bold text-stone-800 mb-6">äº¤é€šèˆ‡ä½å®¿è³‡è¨Š</h2>
            
            <div class="space-y-6">
                <!-- Hotel -->
                <div class="bg-white p-5 rounded-xl shadow-sm border border-stone-100">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <span class="text-xs font-bold text-stone-400 uppercase tracking-wide">ä½å®¿</span>
                            <h3 class="text-xl font-bold text-orange-900">Ciao æ½®æ–‡æ—…</h3>
                        </div>
                        <a href="https://www.google.com/maps/search/?api=1&query=Ciaoæ½®æ–‡æ—…" target="_blank" class="bg-stone-100 text-stone-600 px-3 py-1 rounded-full text-xs font-bold hover:bg-stone-200">
                            å°èˆª
                        </a>
                    </div>
                    <ul class="text-sm text-stone-600 space-y-2">
                        <li>ğŸ“ åœ°å€ï¼šå°å—å¸‚ä¸­è¥¿å€ (è¿‘ç¾è¡“é¤¨/å­”å»Ÿ)</li>
                        <li>ğŸ•’ å…¥ä½ï¼š15:00 å¾Œ / é€€æˆ¿ï¼š11:00 å‰</li>
                        <li>ğŸ’¡ äº®é»ï¼šä½ç½®æ¥µä½³ï¼Œæ­¥è¡Œå¯é”ç¾è¡“é¤¨ã€å­”å»Ÿå•†åœˆã€‚</li>
                    </ul>
                </div>

                <!-- Scooter -->
                <div class="bg-white p-5 rounded-xl shadow-sm border border-stone-100">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <span class="text-xs font-bold text-stone-400 uppercase tracking-wide">Day 1 äº¤é€š</span>
                            <h3 class="text-xl font-bold text-stone-800">å…±äº«æ©Ÿè»Š/ç§Ÿè»Š</h3>
                        </div>
                        <span class="text-2xl">ğŸ›µ</span>
                    </div>
                    <p class="text-sm text-stone-600 mb-3">6äººé è¨ˆç§Ÿ 3 å°æ©Ÿè»Šã€‚å°å—ç«è»Šç«™å¾Œç«™æœ‰å¤šå®¶ç§Ÿè»Šè¡Œï¼Œå»ºè­°ä½¿ç”¨å…±äº«æ©Ÿè»Š (GoShare/iRent) æ©Ÿå‹•æ€§è¼ƒé«˜ï¼Œæˆ–æ–¼å‰ç«™ç§Ÿå€Ÿã€‚</p>
                    <div class="bg-stone-50 p-3 rounded text-xs text-stone-500">
                        <p class="mb-1"><strong>ä¼°åƒ¹ï¼š</strong> ä¸€èˆ¬æ©Ÿè»Šç´„ $350-$500/24hr</p>
                        <p><strong>æ³¨æ„ï¼š</strong> åœè»Šè«‹åœæ”¾åˆæ³•æ ¼ä½ï¼Œä¸­è¥¿å€æ‹–åŠé »ç¹ã€‚</p>
                    </div>
                </div>

                <!-- Taxi -->
                <div class="bg-white p-5 rounded-xl shadow-sm border border-stone-100">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <span class="text-xs font-bold text-stone-400 uppercase tracking-wide">Day 2 äº¤é€š</span>
                            <h3 class="text-xl font-bold text-stone-800">è¨ˆç¨‹è»Š / Uber</h3>
                        </div>
                        <span class="text-2xl">ğŸš•</span>
                    </div>
                    <p class="text-sm text-stone-600 mb-3">é€€æˆ¿å¾Œç›´æ¥å‰å¾€åé¼“æ–‡å‰µåœ’å€ï¼Œä¸ç§Ÿè»Šä»¥å…é‚„è»Šéº»ç…©ã€‚</p>
                    <div class="grid grid-cols-2 gap-4 text-center">
                        <div class="bg-stone-50 p-2 rounded">
                            <div class="text-xs text-stone-400">è·¯ç·š</div>
                            <div class="font-bold text-stone-700 text-sm">é£¯åº— â” åé¼“</div>
                            <div class="text-xs text-stone-500">ç´„ 20 åˆ†é˜ ($250-$300)</div>
                        </div>
                        <div class="bg-stone-50 p-2 rounded">
                            <div class="text-xs text-stone-400">è·¯ç·š</div>
                            <div class="font-bold text-stone-700 text-sm">åé¼“ â” é«˜éµ/ç«è»Š</div>
                            <div class="text-xs text-stone-500">è‡³ä¿å®‰è»Šç«™è½‰ä¹˜</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="mt-12 py-8 bg-stone-100 text-center text-stone-400 text-sm">
        <p>2026 Tainan Travel Planner Widget</p>
        <p class="text-xs mt-2">Safe Travels & Slow Living</p>
    </footer>

    <script>
        // Data Store
        const itineraryData = {
            day1: [
                { time: '11:00', title: 'å°å—ç«è»Šç«™é›†åˆ', icon: 'ğŸš©', desc: 'å‰ç«™å‡ºå£é›†åˆã€‚ç§Ÿå€Ÿæ©Ÿè»Šæˆ–ç¢ºèªå…±äº«æ©Ÿè»Šç‹€æ³ã€‚', loc: 'å°å—ç«è»Šç«™', duration: '30m' },
                { time: '11:30', title: 'åˆé¤æ™‚å…‰', icon: 'ğŸœ', desc: 'å‰å¾€ Ciao é™„è¿‘çš„æ¨è–¦ç¾é£Ÿã€‚å»ºè­°ï¼šé˜¿æ˜Ÿé¹¹ç²¥(å‚³çµ±) æˆ– å–«éºµæ™‚é–“ã€‚', loc: 'ä¸­è¥¿å€', duration: '1.5h' },
                { time: '13:00', title: 'Ciao æ½®æ–‡æ—… å¯„æ”¾è¡Œæ', icon: 'ğŸ§³', desc: 'å…ˆå¸ä¸‹é‡è£å‚™ï¼Œæº–å‚™è¼•è£æ¢ç´¢ã€‚', loc: 'Ciao æ½®æ–‡æ—…', duration: '30m' },
                { time: '13:30', title: 'å¤åŸæ¼«éŠ (ä¸­è¥¿å€)', icon: 'ğŸ›ï¸', desc: 'å°å—å¸‚ç¾è¡“é¤¨ 2 é¤¨ (å¿…æ‹ç™½ç‰†å…‰å½±)ã€å¸æ³•åšç‰©é¤¨ (è²“é“åƒè§€)ã€å­”å»Ÿå•†åœˆæ¼«æ­¥ã€‚', loc: 'å°å—å¸‚ç¾è¡“é¤¨2é¤¨', duration: '2.5h' },
                { time: '16:00', title: 'è€å±‹ä¸‹åˆèŒ¶', icon: 'â˜•', desc: 'äº«å—å°å—ç‰¹æœ‰çš„è€å®…æ°›åœã€‚æ¨è–¦ï¼šçª„é–€å’–å•¡ æˆ– é †é¢¨è™Ÿã€‚', loc: 'å­”å»Ÿå•†åœˆ', duration: '1.5h' },
                { time: '18:00', title: 'ç¥è¾²è¡— æ™šé¤ & æ•£ç­–', icon: 'ğŸ®', desc: 'æ–‡é’è–åœ°ã€‚æ¨è–¦æ‹ç…§é»ï¼šè—¥ç‹å»Ÿå‰ç‡ˆç± ã€‚æ™šé¤å¯åƒè¡—é‚Šå°é£Ÿæˆ–ç‰¹è‰²é¤é…’é¤¨ã€‚', loc: 'ç¥è¾²è¡—', duration: '2h' },
                { time: '20:00', title: 'æ¡è²· & æ¡ŒéŠä¹‹å¤œ', icon: 'ğŸ²', desc: 'è²·å¥½é¹½é…¥é›ã€æ»·å‘³ã€å•¤é…’ï¼Œå›åˆ°é£¯åº—å¤§å»³æˆ–æˆ¿é–“é–‹å•Ÿæ¡ŒéŠå¤§æˆ°ã€‚', loc: 'Ciao æ½®æ–‡æ—…', duration: 'âˆ' }
            ],
            day2: [
                { time: '09:00', title: 'é£¯åº—å‘¨é‚Šæ—©é¤', icon: 'ğŸ³', desc: 'æ­¥è¡Œè¦“é£Ÿã€‚æ¨è–¦ï¼šé˜¿å’Œè‚‰ç‡¥é£¯ æˆ– é£¯åº—é™„è¿‘æ—©åˆé¤ã€‚', loc: 'ä¸­è¥¿å€', duration: '1h' },
                { time: '10:00', title: 'é€€æˆ¿ & å‡ºç™¼', icon: 'ğŸš•', desc: 'è¾¦ç†é€€æˆ¿ï¼Œå«è»Š (Uber/Taxi) ç›´å¥”åé¼“ã€‚', loc: 'Ciao æ½®æ–‡æ—…', duration: '30m' },
                { time: '10:40', title: 'æŠµé” åé¼“æ–‡å‰µåœ’å€', icon: 'ğŸ¥', desc: 'è³¼ç¥¨å…¥åœ’ï¼Œå¯„æ”¾è¡Œæ (éŠå®¢ä¸­å¿ƒ)ã€‚', loc: 'åé¼“ä»ç³–æ–‡å‰µåœ’å€', duration: '4h' },
                { time: '12:30', title: 'åœ’å€åˆé¤', icon: 'ğŸ”', desc: 'æ–¼åœ’å€å…§ä¿®è­·æ›¸å±‹æˆ–èœœæ©‹å’–å•¡é¤¨ç”¨é¤ã€‚', loc: 'åé¼“æ–‡å‰µåœ’å€', duration: '1h' },
                { time: '15:30', title: 'è§£æ•£ & è¿”ç¨‹', icon: 'ğŸ‘‹', desc: 'æ­è¨ˆç¨‹è»Šè‡³ã€Œä¿å®‰ç«è»Šç«™ã€(æœ€è¿‘) è½‰ä¹˜å€é–“è»Šè‡³å°å—ç«™æˆ–æ²™å´™ç«™(é«˜éµ)ã€‚', loc: 'ä¿å®‰è»Šç«™', duration: '30m' }
            ]
        };

        const foodData = [
            { name: 'é˜¿å’Œè‚‰ç‡¥é£¯', type: 'lunch', tag: 'å‚³çµ±å°åƒ', dist: 'æ­¥è¡Œå¯é”', link: 'é˜¿å’Œè‚‰ç‡¥é£¯' },
            { name: 'ç¦ç”Ÿå°é£Ÿåº—', type: 'lunch', tag: 'ç¶“å…¸å°èœ', dist: 'è»Šç¨‹ 3åˆ†', link: 'ç¦ç”Ÿå°é£Ÿåº—' },
            { name: 'çª„é–€å’–å•¡', type: 'cafe', tag: 'è€å±‹/çª„å··', dist: 'å­”å»Ÿæ—', link: 'çª„é–€å’–å•¡' },
            { name: 'å—ç¾æ˜¥å®¤ The POOL', type: 'cafe', tag: 'ç¾è¡“é¤¨é ‚æ¨“', dist: 'ç¾è¡“é¤¨2é¤¨', link: 'å—ç¾æ˜¥å®¤' },
            { name: 'Bar Home', type: 'dinner', tag: 'è€å®…é…’å§', dist: 'éœ€é ç´„', link: 'Bar Home' },
            { name: 'ç¥è¾²è¡—å°åƒç¾¤', type: 'dinner', tag: 'å„å¼å°é£Ÿ', dist: 'ç¥è¾²è¡—', link: 'ç¥è¾²è¡—' },
            { name: 'å‹æ„›è¡—é¹½é…¥é›', type: 'dinner', tag: 'å®µå¤œé¦–é¸', dist: 'å‹æ„›è¡—', link: 'å‹æ„›è¡—é¹½é…¥é›' },
            { name: 'é˜¿æ˜è±¬å¿ƒå†¬ç²‰', type: 'lunch', tag: 'æ’éšŠååº—', dist: 'ä¿å®‰è·¯', link: 'é˜¿æ˜è±¬å¿ƒå†¬ç²‰' }
        ];

        // State
        let currentDay = 1;

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            renderCharts();
            renderItinerary(1);
            renderFood('all');
            
            // Animation for intro
            document.getElementById('overview').classList.add('animate-fade-in');
        });

        // Navigation Logic
        function switchView(viewId) {
            // Hide all views
            document.querySelectorAll('.view-section').forEach(el => el.classList.add('hidden'));
            // Show selected view
            const selected = document.getElementById(viewId);
            selected.classList.remove('hidden');
            selected.classList.add('animate-fade-in');
            
            // Scroll to top
            window.scrollTo(0, 0);

            // Close mobile menu if open
            document.getElementById('mobile-menu').classList.add('hidden');
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // Itinerary Logic
        function setDay(day) {
            currentDay = day;
            document.getElementById('tab-day1').className = day === 1 ? 'w-1/2 pb-3 text-center transition-all active-tab' : 'w-1/2 pb-3 text-center transition-all inactive-tab';
            document.getElementById('tab-day2').className = day === 2 ? 'w-1/2 pb-3 text-center transition-all active-tab' : 'w-1/2 pb-3 text-center transition-all inactive-tab';
            renderItinerary(day);
        }

        function renderItinerary(day) {
            const container = document.getElementById('timeline-container');
            const data = day === 1 ? itineraryData.day1 : itineraryData.day2;
            
            // Keep the line
            container.innerHTML = '<div class="timeline-line"></div>';

            data.forEach((item, index) => {
                const node = document.createElement('div');
                node.className = 'relative flex items-start mb-8 pl-10 animate-slide-up';
                node.style.animationDelay = `${index * 0.1}s`;
                
                node.innerHTML = `
                    <div class="absolute left-2 w-6 h-6 bg-orange-100 border-2 border-orange-500 rounded-full flex items-center justify-center text-xs z-10">
                        ${index + 1}
                    </div>
                    <div class="bg-white p-4 rounded-xl shadow-sm border border-stone-100 w-full hover:shadow-md transition cursor-pointer" onclick="window.open('https://www.google.com/maps/search/?api=1&query=${item.loc}', '_blank')">
                        <div class="flex justify-between items-start mb-1">
                            <span class="text-orange-800 font-bold font-mono text-sm bg-orange-50 px-2 py-0.5 rounded">${item.time}</span>
                            <span class="text-xs text-stone-400 flex items-center">â³ ${item.duration}</span>
                        </div>
                        <h3 class="font-bold text-stone-800 text-lg mb-1">${item.icon} ${item.title}</h3>
                        <p class="text-sm text-stone-500 leading-relaxed">${item.desc}</p>
                        <div class="mt-3 pt-2 border-t border-stone-50 flex justify-end">
                            <span class="text-xs text-orange-600 font-medium flex items-center">
                                ğŸ“ ${item.loc} <span class="ml-1 text-stone-300">â€º</span>
                            </span>
                        </div>
                    </div>
                `;
                container.appendChild(node);
            });
        }

        // Food Logic
        function filterFood(type) {
            // Update buttons
            document.querySelectorAll('.food-filter').forEach(btn => {
                if ((type === 'all' && btn.innerText === 'å…¨éƒ¨') || 
                    (type === 'lunch' && btn.innerText.includes('åˆé¤')) ||
                    (type === 'cafe' && btn.innerText.includes('å’–å•¡')) ||
                    (type === 'dinner' && btn.innerText.includes('æ™šé¤'))) {
                    btn.classList.remove('bg-white', 'text-stone-600');
                    btn.classList.add('bg-stone-800', 'text-white');
                } else {
                    btn.classList.add('bg-white', 'text-stone-600');
                    btn.classList.remove('bg-stone-800', 'text-white');
                }
            });
            renderFood(type);
        }

        function renderFood(filter) {
            const container = document.getElementById('food-grid');
            container.innerHTML = '';
            
            const filtered = filter === 'all' ? foodData : foodData.filter(f => f.type === filter);
            
            filtered.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-white p-4 rounded-xl shadow-sm border border-stone-100 flex justify-between items-center hover:bg-stone-50 transition';
                
                let icon = 'ğŸ´';
                if(item.type === 'cafe') icon = 'â˜•';
                if(item.type === 'dinner') icon = 'ğŸŒ™';

                card.innerHTML = `
                    <div>
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="text-xl">${icon}</span>
                            <h3 class="font-bold text-stone-800">${item.name}</h3>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-xs bg-stone-100 text-stone-600 px-2 py-0.5 rounded">${item.tag}</span>
                            <span class="text-xs text-stone-400">${item.dist}</span>
                        </div>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=${item.link}å°å—" target="_blank" class="w-10 h-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center hover:bg-orange-200 transition">
                        â¤
                    </a>
                `;
                container.appendChild(card);
            });
        }

        // Charts
        function renderCharts() {
            // Budget Chart
            const ctxBudget = document.getElementById('budgetChart').getContext('2d');
            new Chart(ctxBudget, {
                type: 'doughnut',
                data: {
                    labels: ['ä½å®¿ (Ciao)', 'äº¤é€šé ä¼° (æ©Ÿè»Š/Taxi)', 'åé¼“é–€ç¥¨', 'é¤é£²é ä¼°'],
                    datasets: [{
                        data: [1041, 400, 488, 1200], // Rough estimates
                        backgroundColor: ['#E7E5E4', '#FDBA74', '#9A3412', '#57534E'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { usePointStyle: true, boxWidth: 8 } }
                    }
                }
            });

            // Pace Chart
            const ctxPace = document.getElementById('paceChart').getContext('2d');
            new Chart(ctxPace, {
                type: 'bar',
                data: {
                    labels: ['D1: ä¸Šåˆ', 'D1: ä¸‹åˆ', 'D1: æ™šä¸Š', 'D2: ä¸Šåˆ', 'D2: ä¸‹åˆ'],
                    datasets: [{
                        label: 'æ´»å‹•å¼·åº¦ (1-10)',
                        data: [4, 7, 3, 5, 8], // Walking intensity
                        backgroundColor: '#D6D3D1',
                        hoverBackgroundColor: '#9A3412',
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { display: false }, x: { grid: { display: false } } },
                    plugins: { legend: { display: false } }
                }
            });
        }
    </script>
    
    <style>
        /* Simple animations */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.4s ease-out; }
        .animate-slide-up { animation: slideUp 0.4s ease-out forwards; opacity: 0; }
    </style>
</body>
</html>
